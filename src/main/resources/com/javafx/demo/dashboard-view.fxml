<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.geometry.Pos?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Circle?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.javafx.demo.DashboardController"
            prefWidth="1200" prefHeight="800">
  <!-- Header -->
  <top>
    <BorderPane BorderPane.alignment="CENTER">
      <padding>
        <Insets top="24" right="24" bottom="24" left="24" />
      </padding>
      <center>
        <Label text="Factory Inventory and Access Logging System" styleClass="app-title" />
      </center>
      <right>
        <HBox spacing="12" alignment="CENTER_RIGHT">
          <children>
            <Label fx:id="userLabel" />
            <Button text="Logout" onAction="#onLogoutClick" />
            <StackPane prefWidth="36" prefHeight="36" style="-fx-background-color:#e5e7eb; -fx-background-radius:18;" />
          </children>
        </HBox>
      </right>
    </BorderPane>
  </top>

  <!-- Sidebar -->
  <left>
    <VBox spacing="8" prefWidth="200" styleClass="sidebar">
      <children>
        <Button fx:id="dashboardButton" text="Dashboard" maxWidth="Infinity" styleClass="nav-item selected" onAction="#onDashboardClick" />
        <Button fx:id="productLogButton" text="Product Log" maxWidth="Infinity" styleClass="nav-item" onAction="#onProductLogClick" />
        <Button fx:id="alertsButton" text="Alerts" maxWidth="Infinity" styleClass="nav-item" onAction="#onAlertsClick" />
        <Button fx:id="productsButton" text="Products" maxWidth="Infinity" styleClass="nav-item" onAction="#onProductsClick" />
        <Button fx:id="userManagementButton" text="User Management" maxWidth="Infinity" styleClass="nav-item" onAction="#onUserManagementClick" />
      </children>
    </VBox>
  </left>

  <!-- Main content -->
  <center>
    <VBox spacing="24">
      <padding>
        <Insets top="8" right="24" bottom="24" left="24" />
      </padding>
      <children>
        <!-- Stat cards grid -->
        <GridPane hgap="20" vgap="20">
          <columnConstraints>
            <ColumnConstraints percentWidth="50" />
            <ColumnConstraints percentWidth="50" />
          </columnConstraints>
          <rowConstraints>
            <RowConstraints />
            <RowConstraints />
          </rowConstraints>
          <children>
            <VBox GridPane.rowIndex="0" GridPane.columnIndex="0" spacing="8" styleClass="stat-card">
              <children>
                <Label text="Total Products" styleClass="stat-title" />
                <Label fx:id="totalProductsLabel" text="0" styleClass="stat-value" />
                <Label text="Overall Inventory" styleClass="stat-subtitle" />
              </children>
            </VBox>
            <VBox GridPane.rowIndex="0" GridPane.columnIndex="1" spacing="8" styleClass="stat-card">
              <children>
                <Label text="Incoming Products" styleClass="stat-title" />
                <Label fx:id="incomingProductsLabel" text="0" styleClass="stat-value" />
                <Label text="Today's Incoming" styleClass="stat-subtitle" />
              </children>
            </VBox>
            <VBox GridPane.rowIndex="1" GridPane.columnIndex="0" spacing="8" styleClass="stat-card">
              <children>
                <Label text="Outgoing Products" styleClass="stat-title" />
                <Label fx:id="outgoingProductsLabel" text="0" styleClass="stat-value" />
                <Label text="Today's Outgoing" styleClass="stat-subtitle" />
              </children>
            </VBox>
            <VBox GridPane.rowIndex="1" GridPane.columnIndex="1" spacing="8" styleClass="stat-card">
              <children>
                <Label text="Unresolved Alerts" styleClass="stat-title" />
                <Label fx:id="alertsLabel" text="0" styleClass="stat-value" />
                <Label text="Requires Attention" styleClass="stat-subtitle" />
              </children>
            </VBox>
          </children>
        </GridPane>

        <!-- Admin actions -->
        <HBox spacing="12">
          <children>
            <Button fx:id="generateReportButton" text="Generate Today's Report" onAction="#onGenerateReportClick" />
            <Button fx:id="printReportButton" text="Print Today's Report" onAction="#onPrintReportClick" />
          </children>
        </HBox>

        <!-- Recent Logs Table -->
        <VBox spacing="12">
          <children>
            <Label text="Recent Logs" styleClass="section-title" />
            <TableView fx:id="logsTable" prefHeight="360">
              <columns>
                <TableColumn fx:id="dateColumn" text="Date" prefWidth="240" />
                <TableColumn fx:id="actionColumn" text="Action" prefWidth="320" />
                <TableColumn fx:id="productColumn" text="Product" prefWidth="200" />
                <TableColumn fx:id="quantityColumn" text="Quantity" prefWidth="100" />
                <TableColumn fx:id="userColumn" text="User" prefWidth="140" />
              </columns>
            </TableView>
          </children>
        </VBox>
      </children>
    </VBox>
  </center>
</BorderPane>

